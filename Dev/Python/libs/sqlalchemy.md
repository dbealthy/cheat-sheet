ForeignKeyConstraint используется чтобы сделать составной внешний ключ

sqlalchemy автоматически создает индексы на поля типа PrimaryKey или unique 

Пологаю sqlalchmey сама создает индексы на внешние ключи и на ForeignKeyConstraint, нужно проверить

- Нельзя вытаскивать объекты (замапаные) с базы в одной сессии и передавать их на сохранение в другую сессию.

- flush - операция которая записывает данные в базу, но еще не комити транзакцию. integrity errors можно отловить на этом шаге
- expire_on_commit - флаг в значении 
  - True говорит, что после завершения транзакции sqlalchemy автоматически отправит запрос на чтение, что позволяет добиться консистентности, при паралельных транзакциях, или когда кто то из вне изменяет данные или тригеры
  - False говорит, что данные не подтягиваются из базы, что позволяет избежать лишнего запроса